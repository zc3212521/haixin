<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>个人中心-登录 注册</title>
    <meta charset="UTF-8">
    <link href="../../css/common.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/collection.css">
    <link rel="stylesheet" href="../../css/animated.css">
</head>

<body class="black">
<div class="page-content">
    <div class="sel_lr">
        <img src="../../img/logo.png" alt="">
        <span id="sel_time"></span>
    </div>
    <div class="coll_con">
        <div class="login_sign">
            <div style="display: flex;">
                <span class="log_aty my_coll">
                    <p class="ls_tit">我的收藏</p>

                 </span>

                <span class="my_dy">
                    <p class="ls_tit">我的订阅</p>
                 </span>
            </div>
            <p class="coll_desc">长按 【OK键】 管理收藏</p>
        </div>

        <div class="collection coll" style="display: none" >
            <ul>
                <li class="coll_aty">
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds5.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox"  id="checkbox1">
                        <label for="checkbox1"></label>
                    </div>
                </li>
                <li>
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds5.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox2">
                        <label for="checkbox2"></label>
                    </div>
                </li>
                <li>
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds5.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox3">
                        <label for="checkbox3"></label>
                    </div>
                </li>
                <li>
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds5.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox4">
                        <label for="checkbox4"></label>
                    </div>
                </li>
                <li>
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds5.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox5">
                        <label for="checkbox5"></label>
                    </div>
                </li>
                <li>
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds5.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox6">
                        <label for="checkbox6"></label>
                    </div>
                </li>
                <li>
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds5.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox7">
                        <label for="checkbox7"></label>
                    </div>
                </li>
                <li>
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds5.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox8">
                        <label for="checkbox8"></label>
                    </div>
                </li>
            </ul>
        </div>
        <div class="collection dy" >
            <ul>
                <li class="coll_aty">
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds3.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox9">
                        <label for="checkbox9"></label>
                    </div>
                </li>
                <li>
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds3.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox17">
                        <label for="checkbox17"></label>
                    </div>
                </li>
                <li>
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds5.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox10">
                        <label for="checkbox10"></label>
                    </div>
                </li>
                <li>
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds3.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox11">
                        <label for="checkbox11"></label>
                    </div>
                </li>
                <li>
                   <span class="coll_img">
                        <img src="../../img/indexImg/ds5.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                   </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox12">
                        <label for="checkbox12"></label>
                    </div>
                </li>
                <li>
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds5.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox13">
                        <label for="checkbox13"></label>
                    </div>
                </li>
                <li>
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds5.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox14">
                        <label for="checkbox14"></label>
                    </div>
                </li>
                <li>
                    <span class="coll_img">
                        <img src="../../img/indexImg/ds5.png" alt="">
                        <p>狭路相逢</p>
                        <img class="mask" src="../../img/start.png" alt="">
                    </span>
                    <div class="checks" style="display: none;">
                        <input type="checkbox" id="checkbox15">
                        <label for="checkbox15"></label>
                    </div>
                </li>
            </ul>
        </div>
        <div class="cancle_coll" style="display: none;">取消收藏</div>
    </div>
</div>
<!--确认取消收藏弹窗-->
<div class="coll_alert" style="display: none;">
    <p class="coll_ok">确定要取消收藏《花火》吗？</p>
    <p class="can_ok">
        <span class="ok">确定</span>
        <span class="wait">再看看</span>
    </p>
</div>
</body>
<script src="../../js/jquery-1.12.4.min.js"></script>
<script src="../../js/common.js"></script>
<script type="text/javascript">
    var colThis;
    var lsThis;
    $(function() {
        $(window).keydown(function (e) {
             // 图片横向的this
            $('.collection li').each(function () { // 上下的this
                if ($(this).hasClass('coll_aty') && $(this).parents(".collection").css("display") == 'block') {
                    colThis = $(this)
                }
            });
            $('.login_sign span').each(function () { // 左右的this
                if ($(this).hasClass('log_aty')) {
                    lsThis = $(this)
                }
            });
            if (e.keyCode == 37) { // 左切换
                // 上面是切换 收藏订阅的
                if ($('.coll_alert').css('display') == 'none') {
                    if (colThis.parents().hasClass('collection')){
                        $('.cancle_coll').removeClass('cancle_colAty')
                        if (colThis.prev().length === 0) { // 这是到头啦
                            colThis.parents('.collection').find('li').last().addClass('coll_aty')
                        }
                        colThis.removeClass('coll_aty')
                        colThis.prev().addClass('coll_aty')
                    }
                } else {
                    $('.ok').addClass('active')
                    $('.wait').removeClass('active')
                }
            }
            if (e.keyCode == 39) { //右切换
                // 上面是切换收藏订阅的
                if ($('.coll_alert').css('display') == 'none') {
                    if (colThis.parents().hasClass('collection')) { //
                        $('.cancle_coll').removeClass('cancle_colAty')
                        if (colThis.next().length === 0) { // 这是到头啦
                            colThis.parents('.collection').find('li').eq(0).addClass('coll_aty')
                        }
                        colThis.removeClass('coll_aty')
                        colThis.next().addClass('coll_aty')
                    }
                } else{
                    $('.wait').addClass('active')
                    $('.ok').removeClass('active')
                }
            }
            if (e.keyCode == 13){ // enter键
                var cks = colThis.children().find('input').attr('checked')

                if ($('.cancle_coll').hasClass('cancle_colAty')&& $('.coll_alert').css('display') == 'none'){
                    $('.coll_alert').show()
                    colThis.removeClass('coll_aty')
                    colThis = $('.can_ok').children().eq(0);
                    $('.ok').addClass('active')
                    $('.wait').removeClass('active')
                } else if($('.coll_alert').css('display') == 'block'){
                    if ($('.ok').hasClass('active')){
                        $('.checks input').each(function () {
                            if ($(this).attr('checked')=='checked'){
                                $(this).parents('li').hide()
                            }
                        })
                        $('.coll_alert').hide()
                        $(".collection li").eq(0).addClass('coll_aty')
                    }else{
                        $('.coll_alert').hide()
                        $(".collection li").eq(0).addClass('coll_aty')
                    }
                } else{
                    if (cks == 'checked'){
                        colThis.children().find('input').removeAttr('checked').removeClass('checked')
                    }else {
                        colThis.children().find('input').attr('checked','checked').addClass('checked')
                    }
                }
            }
            if(e.keyCode==38){ // 上

            }
            if(e.keyCode==40){ // 下 滑到下一页
                $('.cancle_coll').addClass('cancle_colAty')
            }
            if(e.keyCode==56){ // *号吊起复选框
                $(".checks,.cancle_coll").show()
                $(".collection ul").addClass('ul_active')
                var cur = colThis.parents(".collection").hasClass('coll')
                if (cur){ // 在收藏页面上
                    $(".my_coll").show().addClass('ls_edit')
                    $('.my_dy').hide()
                } else { // 在我的订阅上面
                    $(".my_coll").hide()
                    $('.my_dy').show().addClass('ls_edit')
                }
            }
            if(e.keyCode==49){ // 1
                if (lsThis.prev().length != 0) {
                    lsThis.prev().addClass('log_aty')
                    lsThis.removeClass('log_aty')
                    $(".dy").attr('class', 'collection dy animated fadeOutRightBig')
                    setTimeout(function () {
                        $(".coll").attr('class', 'collection coll animated fadeInLeftBig')
                        $('.coll').css('display', 'block')
                        $(".dy").css('display', 'none')
                    }, 500)
                }
            }
            if(e.keyCode==50){ // 2
                if (lsThis.next().length != 0) {
                    lsThis.next().addClass('log_aty')
                    lsThis.removeClass('log_aty')
                    $(".coll").attr('class', 'collection coll animated fadeOutLeftBig')
                    setTimeout(function () {
                        $(".dy").attr('class', 'collection dy animated fadeInRightBig')
                        $('.coll').css('display', 'none')
                        $(".dy").css('display', 'block')
                    }, 500)
                }
            }
        })
    })
</script>
</html>
