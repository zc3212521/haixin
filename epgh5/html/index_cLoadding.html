<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>首页次屏</title>
    <meta charset="UTF-8">
    <link href="../css/global.css" type="text/css" rel="stylesheet">
    <link href="../css/common.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" href="../css/details.css">
    <link rel="stylesheet" href="../css/selOwer.css">
    <!--<link rel="stylesheet" href="../css/animated.css">-->

</head>

<body class="">
    <div class="page-content videoInfo black">
        <div class="animated slideInUp">
        <div class="index_up cols">︿</div>
        <div class="sel_lr">
            <img src="../img/logo.png" alt="">
            <span id="sel_time"></span>
        </div>
        <div class="col tuijian">

            <div class="videoList cols img_aty" style="position: relative; padding: 2vmin 0 2vmin;">
                <div class="index_ds">
                    <span class="index_tiao index_left"></span><span class="index_zi ">电视剧</span>
                </div>
                <!-- 剧集推荐 把默认放在了这里-->
                <div class="ulWrap">
                    <ul class="tj img_aty index_ul">
                        <li tabindex="4" class="li active" data-type="0">
                            <img lazyLoadSrc="../img/indexImg/ds1.png" alt="image01" />
                            <span class="loading"></span>
                        </li>
                        <li tabindex="5" class="li"  data-type="0">
                            <img lazyLoadSrc="../img/indexImg/ds2.png" alt="image02" />
                            <p>密室</p>
                            <span class="loading"></span>

                        </li>
                        <li tabindex="6" class="li"  data-type="0">
                            <img lazyLoadSrc="../img/indexImg/ds3.png" alt="image03" />
                            <p>花火</p>
                            <span class="loading"></span>

                        </li>
                        <li tabindex="7" class="li"  data-type="0">
                            <img lazyLoadSrc="../img/indexImg/ds4.png" alt="image04" />
                            <p>雨无声处</p>
                            <span class="loading"></span>

                        </li>
                        <li tabindex="8" class="li"  data-type="0">
                            <img lazyLoadSrc="../img/indexImg/ds5.png" alt="image05" />
                            <p>环太平洋 雷霆再起</p>
                            <span class="loading"></span>

                        </li>
                        <li tabindex="9" class="li"  data-type="0">
                            <img lazyLoadSrc="../img/indexImg/ds3.png" alt="image06" />
                            <p>环太平洋 雷霆再起</p>
                            <span class="loading"></span>

                        </li>
                        <li tabindex="4" class="li"  data-type="0">
                            <img lazyLoadSrc="../img/indexImg/ds1.png" alt="image01" />
                            <p>环太平洋 雷霆再起</p>
                            <span class="loading"></span>

                        </li>
                        <li tabindex="5" class="li"  data-type="0">
                            <img lazyLoadSrc="../img/indexImg/ds2.png" alt="image02" />
                            <p>环太平洋 雷霆再起</p>
                            <span class="loading"></span>

                        </li>
                        <li tabindex="6" class="li"  data-type="0">
                            <img lazyLoadSrc="../img/indexImg/ds3.png" alt="image03" />
                            <p>环太平洋 雷霆再起</p>
                            <span class="loading"></span>

                        </li>
                        <li tabindex="7" class="li"  data-type="0">
                            <img lazyLoadSrc="../img/indexImg/ds4.png" alt="image04" />
                            <p>环太平洋 雷霆再起</p>
                            <span class="loading"></span>

                        </li>
                    </ul>
                </div>
            </div>
            <div class="videoList cols " style="position: relative;bottom: 0vmin; padding: 0vmin 0 2vmin;">
                <div class="index_zy">
                    <span class="index_zyt index_left"></span><span class="index_zi ">综艺</span>
                </div>
                <!-- 剧集推荐 把默认放在了这里-->
                <div class="ulWrap">
                    <ul class="tj index_ul">
                        <li tabindex="4" class="li" data-type="1">
                            <img lazyLoadSrc="../img/indexImg/zy1.png" alt="image02" />
                            <span class="loading"></span>

                        </li>
                        <li tabindex="5" class="li" data-type="1">
                            <img lazyLoadSrc="../img/indexImg/zy2.png" alt="image03" />
                            <span class="loading"></span>

                            <!--<p>密室</p>-->
                        </li>
                        <li tabindex="6" class="li" data-type="1">
                            <img lazyLoadSrc="../img/indexImg/zy3.png" alt="image04" />
                            <span class="loading"></span>

                            <!--<p>花火</p>-->
                        </li>
                        <li tabindex="7" class="li" data-type="1">
                            <img lazyLoadSrc="../img/indexImg/zy2.png" alt="image05" />
                            <span class="loading"></span>

                            <!--<p>雨无声处</p>-->
                        </li>
                        <li tabindex="8" class="li" data-type="1">
                            <img lazyLoadSrc="../img/indexImg/zy3.png" alt="image01" />
                            <span class="loading"></span>

                            <!--<p>环太平洋 雷霆再起</p>-->
                        </li>
                        <li tabindex="9" class="li" data-type="1">
                            <img lazyLoadSrc="../img/indexImg/zy4.png" alt="image02" />
                            <span class="loading"></span>

                            <!--<p>环太平洋 雷霆再起</p>-->
                        </li>
                        <li tabindex="4" class="li" data-type="1">
                            <img lazyLoadSrc="../img/indexImg/zy5.png" alt="image03" />
                            <span class="loading"></span>

                            <!--<p>环太平洋 雷霆再起</p>-->
                        </li>
                        <li tabindex="5" class="li" data-type="1">
                            <img lazyLoadSrc="../img/indexImg/zy1.png" alt="image09" />
                            <span class="loading"></span>

                            <!--<p>环太平洋 雷霆再起</p>-->
                        </li>
                        <li tabindex="6" class="li" data-type="1">
                            <img lazyLoadSrc="../img/indexImg/zy2.png" alt="image10" />
                            <span class="loading"></span>

                            <!--<p>环太平洋 雷霆再起</p>-->
                        </li>
                        <li tabindex="7" class="li" data-type="1">
                            <img lazyLoadSrc="../img/indexImg/ds3.png" alt="image04" />
                            <span class="loading"></span>

                            <!--<p>环太平洋 雷霆再起</p>-->
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        </div>
        <div class="index_down">﹀</div>
    </div>
</body>
<script src="../js/jquery-1.12.4.min.js"></script>
<!--<script src="../js/common.js"></script>-->
<script type="text/javascript" src="../js/ydxLazyLoad.js"></script>

<script type="text/javascript">
    $(function(){
        $("[lazyLoadSrc]").YdxLazyLoad({
            onShow: function () {
                $(this).siblings('.loading').hide()
            }
        });
    });


// 键盘事件开始
$(function() {
    var jqThis;
    var colThis;
    var startAnimate = false
    var seltWidth;
    var totalWhidth = document.documentElement.scrollWidth;
    $(window).keydown(function (e) {
        console.log(e.keyCode)
        $('.li').each(function () { // 左右的this
            if ($(this).hasClass('active')) {
                jqThis = $(this)
                seltWidth = $(this).width() + 80
            }
        });
        $('.cols').each(function () { // 上下的this
            if ($(this).hasClass('img_aty')) {
                colThis = $(this)
            }
        });
        // console.log(e.keyCode)
        if(e.keyCode==38){ // 上
            console.log(colThis.index())
            if (colThis.index() === 0) {
                // $('.videoList').last().addClass('img_aty')
                // $('.videoList').last().find('.li').eq(0).addClass('active')
                // $(".page-content").scrollTop(200)
                // $(".bgSel").attr("class",'animated fadeIn')
                $(".page-content").addClass("animated slideOutDown")
                $('body').css('background','url("../img/selected/2.jpg")').addClass('anim_fade_image')
                setTimeout(function () {
                    window.location.href='select.html'

                },1000)

            }
            colThis.prev().addClass('img_aty')
            colThis.prev().find('.li').eq(0).addClass('active')
            colThis.removeClass('img_aty')
            colThis.find('.li').removeClass('active')
            colThis.prev().children().find('.tj').animate({
                left: '0px'
            })
        }
        if(e.keyCode==40){ // 下
            if (colThis.next().length === 0) { // 这是到头啦
                $('.videoList').first().addClass('img_aty')
                $('.videoList').first().find('.li').eq(0).addClass('active')
            }

            colThis.next().addClass('img_aty')
            colThis.next().find('.li').eq(0).addClass('active')
            colThis.removeClass('img_aty')
            colThis.find('.li').removeClass('active')
            console.log(colThis)
            colThis.next().children().find('.tj').animate({
                left: '0px'
            })

        }
        if(e.keyCode==39){ // 右-39
            if (jqThis.parents().hasClass('videoList')) {
                if (!startAnimate) {
                    startAnimate = true
                    jqThis.removeClass('active')
                    if (jqThis.next().length === 0) { // 这是到头啦
                        jqThis.parents('.img_aty').find('.li').eq(0).addClass('active')
                        jqThis.parents('.tj').animate({
                            left: '0px'
                        })
                        startAnimate = false
                        return
                    }
                     if (totalWhidth - seltWidth - jqThis.next().position().left <= 20) {
                        jqThis.parents('.tj').animate({
                            left: totalWhidth - seltWidth - jqThis.next().position().left - 40 + 'px'
                        })
                    }
                    jqThis.next().addClass('active')
                }
            }
        }
        if(e.keyCode==37){ // 左-37
            if (jqThis.parents().hasClass('videoList')) {
                if (!startAnimate) {
                    startAnimate = true
                    jqThis.removeClass('active')
                    if(jqThis.parent().hasClass('tj')){ // 父元素是1
                        if (jqThis.prev().length === 0) { // 这是到头啦
                            jqThis.parents('.img_aty').find('.li').last().addClass('active')
                            jqThis.parents('.tj').animate({
                                left: totalWhidth - seltWidth - jqThis.parents('.tj').find('.li').last().position().left - 50 + 'px'
                            })
                            startAnimate = false
                            return
                        }
                        if (jqThis.prev().offset().left <= 20) {
                            jqThis.parents('.tj').animate({
                                left: 10 - jqThis.prev().position().left + 'px'
                            })
                        }
                        jqThis.prev().addClass('active')
                    }
                }

            }
        }
        if(e.keyCode==13){ // enter
            var type = jqThis.attr("data-type")
            if (type === '0'){ // 电视
                window.location.href='detailsCommon.html'
            }else if (type === '1'){ // 综艺
                window.location.href='detailszy.html'
            }else if (type === '2'){ // 电影
                window.location.href='detailsSingle.html'
            }
        }
        // 返回上一页
        if (e.keyCode == 8) { // Backspace键
            window.history.go(-1)
        }
        setTimeout(function () {
            startAnimate = false
        }, 200)
    })
})


</script>
</html>
